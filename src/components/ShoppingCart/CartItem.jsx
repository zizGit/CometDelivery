import React from "react";
import styles from "./ShoppingCart.module.scss";

import { useDispatch } from "react-redux";
import {
  addToCart,
  decreaseFromCart,
  removeFromCart,
} from "../../redux/slices/cartSlice";

export default function CartItem({ name, price, count, imageUrl }) {
  const dispatch = useDispatch();

  return (
    <div className={styles.productblock}>
      <span
        className={styles.close}
        onClick={() => dispatch(removeFromCart({ name }))}
      >
        <svg
          width="9"
          height="10"
          viewBox="0 0 9 10"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M5.79993 5.00038L8.74576 2.05371C8.82535 1.97684 8.88884 1.88489 8.93251 1.78322C8.97619 1.68155 8.99918 1.5722 9.00014 1.46155C9.0011 1.3509 8.98001 1.24116 8.93811 1.13875C8.89621 1.03634 8.83433 0.943293 8.75609 0.865049C8.67785 0.786805 8.5848 0.724928 8.48239 0.683027C8.37998 0.641126 8.27024 0.620042 8.15959 0.621003C8.04894 0.621965 7.93959 0.644953 7.83792 0.688627C7.73625 0.732302 7.6443 0.795787 7.56743 0.875379L4.62076 3.82121L1.67493 0.875379C1.59806 0.795787 1.5061 0.732302 1.40443 0.688627C1.30276 0.644953 1.19341 0.621965 1.08276 0.621003C0.972113 0.620042 0.86238 0.641126 0.759966 0.683027C0.657552 0.724928 0.564509 0.786805 0.486265 0.865049C0.408021 0.943293 0.346144 1.03634 0.304243 1.13875C0.262342 1.24116 0.241257 1.3509 0.242219 1.46155C0.24318 1.5722 0.266169 1.68155 0.309843 1.78322C0.353517 1.88489 0.417003 1.97684 0.496594 2.05371L3.44243 4.99955L0.496594 7.94621C0.417003 8.02309 0.353517 8.11504 0.309843 8.21671C0.266169 8.31838 0.24318 8.42773 0.242219 8.53838C0.241257 8.64903 0.262342 8.75876 0.304243 8.86117C0.346144 8.96359 0.408021 9.05663 0.486265 9.13488C0.564509 9.21312 0.657552 9.275 0.759966 9.3169C0.86238 9.3588 0.972113 9.37988 1.08276 9.37892C1.19341 9.37796 1.30276 9.35497 1.40443 9.3113C1.5061 9.26762 1.59806 9.20414 1.67493 9.12455L4.62076 6.17871L7.56743 9.12455C7.6443 9.20414 7.73625 9.26762 7.83792 9.3113C7.93959 9.35497 8.04894 9.37796 8.15959 9.37892C8.27024 9.37988 8.37998 9.3588 8.48239 9.3169C8.5848 9.275 8.67785 9.21312 8.75609 9.13488C8.83433 9.05663 8.89621 8.96359 8.93811 8.86117C8.98001 8.75876 9.0011 8.64903 9.00014 8.53838C8.99918 8.42773 8.97619 8.31838 8.93251 8.21671C8.88884 8.11504 8.82535 8.02309 8.74576 7.94621L5.79993 4.99955V5.00038Z"
            fill="#030227"
            fillOpacity="0.5"
          />
        </svg>
      </span>
      <div className={styles.productblock__top}>
        <img src={imageUrl} alt="" />
        <h3>{name}</h3>
      </div>
      <div className={styles.productblock__bottom}>
        <p>{price} uan</p>
        <div className={styles.productblock__counter}>
          <span onClick={() => dispatch(decreaseFromCart({ name }))}>
            <svg
              width="10"
              height="2"
              viewBox="0 0 10 2"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M0.443359 1.00391C0.443359 0.496926 0.854348 0.0859375 1.36133 0.0859375H8.67188C9.17885 0.0859375 9.58984 0.496926 9.58984 1.00391C9.58984 1.51089 9.17885 1.92188 8.67188 1.92188H1.36133C0.854348 1.92188 0.443359 1.51089 0.443359 1.00391Z"
                fill="#A4A4AB"
              />
            </svg>
          </span>
          <p>{count}</p>
          <span onClick={() => dispatch(addToCart({ name, price }))}>
            <svg
              width="10"
              height="10"
              viewBox="0 0 10 10"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M9.28571 5.71429H5.71429V9.28571C5.71429 9.47515 5.63903 9.65684 5.50508 9.79079C5.37112 9.92475 5.18944 10 5 10C4.81056 10 4.62888 9.92475 4.49492 9.79079C4.36097 9.65684 4.28571 9.47515 4.28571 9.28571V5.71429H0.714286C0.524845 5.71429 0.343164 5.63903 0.20921 5.50508C0.075255 5.37112 0 5.18944 0 5C0 4.81056 0.075255 4.62888 0.20921 4.49492C0.343164 4.36097 0.524845 4.28571 0.714286 4.28571H4.28571V0.714286C4.28571 0.524845 4.36097 0.343164 4.49492 0.209209C4.62888 0.0752547 4.81056 0 5 0C5.18944 0 5.37112 0.0752547 5.50508 0.209209C5.63903 0.343164 5.71429 0.524845 5.71429 0.714286V4.28571H9.28571C9.47515 4.28571 9.65684 4.36097 9.79079 4.49492C9.92475 4.62888 10 4.81056 10 5C10 5.18944 9.92475 5.37112 9.79079 5.50508C9.65684 5.63903 9.47515 5.71429 9.28571 5.71429Z"
                fill="#fff"
              />
            </svg>
          </span>
        </div>
      </div>
    </div>
  );
}
